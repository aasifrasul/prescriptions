!function(){!function(){"use strict";var e=angular.module("app",["ngRoute","ui.bootstrap","ui.bootstrap.modal","ui.bootstrap.datetimepicker","ui.bootstrap.showErrors","jcs-autoValidate"]);e.value("apiBaseUrl","http://localhost:9000/"),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},e.constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"});var t=["home","appointments","prescriptions","login","register","misc","forgotPassword","profile"],r=function(e){return{templateUrl:"views/"+e+".html",controller:e.capitalize()+"Controller",controllerAs:"vm"}},o=function(e){angular.forEach(t,function(t){var o=r(t);e.when("/"+t,o)}),e.otherwise({redirectTo:"/appointments"})},i=function(e,t,r){return{request:function(o){var i=t.getSession()||{};return i.id&&(o.headers["x-session-token"]=i.id,o.headers["x-key"]=i.userId),-1!=o.url.indexOf("templates/datetimepicker.html")?o.url="lib/angular-bootstrap-datetimepicker/src/"+o.url:-1==o.url.indexOf(".html")&&-1==o.url.indexOf("http")&&(o.url=r+o.url),o||e.when(o)},requestError:function(e){return console.log(e),e},response:function(t){return t?angular.isObject(t.data)?t.data:t:e.when(t)},responseError:function(e){return console.log(e),e}}};e.config(["$provide","$locationProvider","$routeProvider","$httpProvider","$compileProvider","showErrorsConfigProvider",function(e,t,r,n,s,a){a.showSuccess(!0),s.debugInfoEnabled(!1),delete n.defaults.headers.common["X-Requested-With"],o(r),t.html5Mode({enabled:!0,requireBase:!0,rewriteLinks:!0}),i.$inject=["$q","SessionService","apiBaseUrl"],e.factory("MyHttpInterceptor",i),n.interceptors.push("MyHttpInterceptor")}])}()}();
!function(){!function(){"use strict";var a=angular.module("app"),t=function(){var a=["Today","Yesterday","Last Week","Last Month","Last Year","All"];return a};a.constant("displayTypes",t())}()}();
!function(){!function(){"use strict";var e=angular.module("app"),t=function(e,t,n,o,i){var a=this,s=null,l=o.getUser(),r=function(e){return{data:function(){return e}}},c=function(){s?s.dismiss():""},p=function(){a.appointments=a.totalAppointments.slice(0,a.itemsPerPage)},d=function(e){a.displayType=e,o.setSessionStorageByKey("displayType",e),n.fetchAppointmentsFromByUserId(e,l._id).then(function(e){e&&e.appointments&&(a.totalAppointments=e.appointments,p(),a.currentPage=1)})};a.displayType=o.getSessionStorageByKey("displayType")||"Today",a.displayTypes=["Today","Yesterday","Last Week","Last Month","Last Year","All"],a.itemsPerPage=5,a.currentPage=1,a.appointments=[],a.totalAppointments=[],e.$on("itemsPerPage",function(e,t){a.itemsPerPage=t,p()}),a.create=function(e){c(),s=t.open({templateUrl:"views/addeditappointment.html",controller:"ModalInstanceController",windowClass:"large-Modal",resolve:r(null)}),s.result.then(function(e){e.doctor_name=l.name,e.doctor_id=l._id,e.date_time=Date.parse(e.date_time),n.create(e).then(function(e){e&&document.location.reload()})},function(){console.log("Modal dismissed at: "+new Date)})},a.edit=function(e){c(),s=t.open({templateUrl:"views/addeditappointment.html",controller:"ModalInstanceController",windowClass:"large-Modal",resolve:r(a.appointments[e])}),s.result.then(function(e){n.update(e).then(function(e){e&&document.location.reload()})},function(){console.log("Modal dismissed at: "+new Date)})},a.delete=function(e){n.delete(a.appointments[e]._id).then(function(t){t&&delete a.appointments[e]})},a.createPrescription=function(e){c(),s=t.open({templateUrl:"views/addeditprescription.html",controller:"ModalInstanceController",size:"large",resolve:r(a.appointments[e])}),s.result.then(function(e){i.create(e).then(function(e){e&&document.location.reload()})},function(){console.log("Modal dismissed at: "+new Date)})},a.setPage=function(e){a.currentPage=e,console.log("Page changed to: "+a.currentPage)},a.pageChanged=function(){a.appointments=a.totalAppointments.slice((a.currentPage-1)*a.itemsPerPage,a.currentPage*a.itemsPerPage)},d(a.displayType),a.fetchAppointments=d,a.showscope=function(e){console.log(angular.element(e.srcElement).vm())},console.log(a)};t.$inject=["$rootScope","$uibModal","AppointmentsService","SessionService","PrescriptionsService"],e.controller("AppointmentsController",t)}()}();
!function(){!function(){"use strict";var o=angular.module("app"),n=function(o){o.showscope=function(o){console.log(angular.element(o.srcElement).$scope())},console.log(o)};n.$inject=["$scope"],o.controller("ForgotPasswordController",n)}()}();
!function(){!function(){"use strict";var t=angular.module("app"),e=function(t,e,n,i){var o=this,s=function(t,e){o.userIsAuthenticated=!0,o.user=e.user};o.userIsAuthenticated=!1,o.links=[{name:"Appointments",link:"appointments"},{name:"Prescriptions",link:"prescriptions"},{name:"My Profile",link:"profile"},{name:"Contact",link:"misc"}],t.$on("authSuccess",s),i.isLoggedIn()?(o.user=i.getAuthenticatedUser(),o.userIsAuthenticated=!0):(o.userIsAuthenticated=!1,n.path("/login")),o.logout=function(){o.userIsAuthenticated=!1,o.user={},e.$emit("logoutEvent"),n.path("/login")},o.redirect=function(t){t=t||"/login",n.path(t)},console.log(e)};e.$inject=["$rootScope","$scope","$location","AuthenticationService"],t.controller("HeaderController",e)}()}();
!function(){!function(){"use strict";var e=angular.module("app"),n=(angular.injector(["ng","app"]),function(e,n,r,t,o,i){var a,l=this;l.loginError=!1,l.credentials={username:null,password:null,remember:o.getLocalStorageByKey("rememberMe")},l.init=function(){o.getSession().id&&n.path("/appointments")},l.login=function(){var r=l.credentials,i=r.username,a=r.password,s=r.remember;if(!i||!a){var c=e.loginForm;return l.loginError=!0,i||(i=c.username,i.$dirty=!0,i.$invalid=!0),a||(a=c.password,a.$dirty=!0,a.$invalid=!0),!1}s&&o.setLocalStorageByKey("rememberMe",!0),t.login(r).then(function(r){r&&r.authToken?(e.$emit("authSuccess",r),l.loginError=!1,n.path("/appointments")):e.$emit("authFailure",r)})},l.register=function(){a?a.dismiss():"",a=r.open({templateUrl:"views/register.html",controller:"ModalInstanceController",resolve:{data:function(){return null}}}),a.result.then(function(e){i.register(e).then(function(e){e&&n.path("/login")})},function(){console.log("Modal dismissed at: "+new Date)})},l.init(),console.log(l)});n.$inject=["$scope","$location","$uibModal","AuthenticationService","SessionService","UsersService"],e.controller("LoginController",n)}()}();
!function(){!function(){"use strict";var o=angular.module("app"),n=function(o,n,e,c){o.createContactUs=function(){console.log(o.data),e.createContactUs(o.data).then(function(o){console.log(o)})},o.showscope=function(o){console.log(angular.element(o.srcElement).$scope())},console.log(o)};n.$inject=["$scope","$location","MiscService","SessionService"],o.controller("MiscController",n)}()}();
!function(){!function(){"use strict";function n(n,a){var o=this;o.data=a,o.ok=function(){n.close(o.data)},o.cancel=function(){n.dismiss("cancel")},console.log(o)}var a=angular.module("app");n.$inject=["$uibModalInstance","data"],a.controller("ModalInstanceController",n)}()}();
!function(){!function(){"use strict";var e=angular.module("app"),t=function(e,t,n,o){var r=this,i=null,s=o.getUser(),l=function(e){return{data:function(){return e}}},a=function(){i?i.dismiss():""},c=function(){console.log("Modal dismissed at: "+new Date)},p=function(e){n.fetchPrescriptionsFromByUserId(s._id,e).then(function(e){e&&e.prescriptions&&(r.currentPage=1,r.totalPrescriptions=e.prescriptions,d())})},d=function(){r.prescriptions=r.totalPrescriptions.slice(0,r.itemsPerPage)};r.displayType=o.getSessionStorageByKey("displayType")||"Today",r.displayTypes=["Today","Yesterday","Last Week","Last Month","Last Year","All"],r.itemsPerPage=5,r.currentPage=1,r.prescriptions=[],r.totalPrescriptions=[],e.$on("itemsPerPage",function(e,t){r.itemsPerPage=t,d()}),e.$on("currentPage",function(e,t){r.setPage(t),r.pageChanged()}),r.setPage=function(e){r.currentPage=e,console.log("Page changed to: "+r.currentPage)},r.pageChanged=function(){r.prescriptions=r.totalPrescriptions.slice((r.currentPage-1)*r.itemsPerPage,r.currentPage*r.itemsPerPage)},r.create=function(e){a(),i=t.open({templateUrl:"views/addeditprescription.html",controller:"ModalInstanceController",windowClass:"large-Modal",resolve:l(r.appointments[index])}),i.result.then(function(e){n.create(e).then(function(e){e&&(p(r.displayType),document.location.reload())})},c)},r.edit=function(e){a(),i=t.open({templateUrl:"views/addeditprescription.html",controller:"ModalInstanceController",windowClass:"large-Modal",resolve:l(r.prescriptions[e])}),i.result.then(function(e){n.update(e).then(function(e){e&&document.location.reload()})},c)},r.delete=function(e){n.delete(r.prescriptions[e]._id).then(function(t){t&&delete r.prescriptions[e]})},r.detail=function(e){a(),i=t.open({templateUrl:"views/prescriptiondetail.html",controller:"ModalInstanceController",controllerAs:"vm",windowClass:"large-Modal",resolve:l(r.prescriptions[e])})},p(r.displayType),r.fetchPrescriptions=p,r.showscope=function(e){console.log(angular.element(e.srcElement).vm())},console.log(r)};t.$inject=["$rootScope","$uibModal","PrescriptionsService","SessionService"],e.controller("PrescriptionsController",t)}()}();
!function(){!function(){"use strict";var e=angular.module("app"),o=function(e,o,n){e.user=n.getUser(),e.updateProfile=function(){o.updateUser(e.user).then(function(e){n.setUser(e.user)})},e.showscope=function(e){console.log(angular.element(e.srcElement).$scope())},console.log(e)};o.$inject=["$scope","UsersService","SessionService"],e.controller("ProfileController",o)}()}();
!function(){!function(){"use strict";var e=angular.module("app"),r=function(e,r,n){e.dupUsernameError=!1,e.register=function(){e.$broadcast("show-errors-check-validity"),e.userRegistration.$invalid||n.register(e.reg)},e.verifyUsername=function(){var n=r.get("AuthenticationService");n.verifyUsername({username:e.reg.username}).then(function(r){r.message?e.dupUsernameError=!1:e.dupUsernameError=!0})},e.showscope=function(e){console.log(angular.element(e.srcElement).$scope())},console.log(e)};r.$inject=["$scope","$injector","UsersService"],e.controller("RegisterController",r)}()}();
!function(){!function(){"use strict";app.directive("elementFocus",function(n){return{scope:{trigger:"@elementFocus"},link:function(t,e){t.$watch("trigger",function(t){"true"===t&&n(function(){e[0].focus()})})}}})}()}();
!function(){!function(){"use strict";app.directive("ensureUnique",["$http",function(e){return{require:"ngModel",link:function(n,i,u,t){n.$watch(u.ngModel,function(){e({method:"POST",url:"/api/check/"+u.ensureUnique,data:{field:u.ensureUnique}}).success(function(e,n,i,u){t.$setValidity("unique",e.isUnique)}).error(function(e,n,i,u){t.$setValidity("unique",!1)})})}}}])}()}();
!function(){!function(){"use strict";app.directive("formAutofillFix",function(t){return function(n,i,e){i.prop("method","post"),e.ngSubmit&&t(function(){i.unbind("submit").bind("submit",function(t){t.preventDefault(),i.find("input, textarea, select").trigger("input").trigger("change").trigger("keydown"),n.$apply(e.ngSubmit)})})}})}()}();
!function(){!function(){"use strict";var i=angular.module("app"),n=function(i){var n=function(n){var t=function(){n.visible=!0};n.visible=!1,n.$on(i.notAuthenticated,t),n.$on(i.sessionTimeout,t)};return{restrict:"A",template:'<div ng-if="visible" ng-include src="\'views/login.html\'">',link:n}};n.$inject=["AUTH_EVENTS"],i.directive("loginDialog",n)}()}();
!function(){!function(){"use strict";var n=angular.module("app");n.directive("myMaxlength",function(){var n=function(n){if(n.length>maxlength){var e=n.substring(0,maxlength);return ngModelCtrl.$setViewValue(e),ngModelCtrl.$render(),e}return n},e=function(e,r,t,u){Number(t.myMaxlength);u.$parsers.push(n)};return{require:"ngModel",link:e}})}()}();
!function(){s(function(){"use strict";var n=angular.module("app");n.directive("ngFocus",[function(){var n="ng-focused",u=function(u,c,o,i){i.$focused=!1,c.bind("focus",function(o){c.addClass(n),u.$apply(function(){i.$focused=!0})}).bind("blur",function(o){c.removeClass(n),u.$apply(function(){i.$focused=!1})})};return{restrict:"A",require:"ngModel",link:u}}])})()}();
!function(){!function(){"use strict";var i=angular.module("app");i.directive("numberValidator",function(){var i=function(i,n,t,e){e.$parsers.push(function(i){return e.$isEmpty(i)?(e.$setValidity("number",!0),null):!isNaN(parseFloat(i))&&isFinite(i)?(e.$setValidity("number",!0),i):void e.$setValidity("number",!1)})};return{require:"ngModel",link:i}})}()}();
!function(){!function(){"use strict";function t(){var t=function(t){var e=this,n=function(){return e.currentPage},r=function(n){e.currentPage=n||e.currentPage,t.$emit("currentPage",e.currentPage)};e.currentPage=e.currentPage||1,e.itemsPerPage=e.itemsPerPage||5,e.totalItems=e.totalItems||[],console.log(e),t.$watch(n,r)};return t.$inject=["$scope"],{restrict:"E",scope:{itemsPerPage:"=",totalItems:"="},controller:t,bindToController:!0,controllerAs:"vm",template:['<div ng-if="vm.totalItems.length > vm.itemsPerPage" class="text-center"><uib-pagination total-items="vm.totalItems.length" items-per-page="vm.itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" next-text=">" last-text=">>" first-text="<<" previous-text="<" </uib-pagination></div>'].join("")}}var e=angular.module("app");t.$inject=[],e.directive("paginationWrapper",t)}()}();
!function(){(function(){"use strict";var r=(angular.module("app"),angular.module("ui.bootstrap.showErrors",[]));r.directive("showErrors",["$timeout","showErrorsConfig","$interpolate",function(r,o,e){var n=function(r){var e;return e=o.trigger,r&&null!=r.trigger&&(e=r.trigger),e},t=function(r){var e;return e=o.showSuccess,r&&null!=r.showSuccess&&(e=r.showSuccess),e},s=function(o,s,u,i){var c,a,l,h,f,g,m,w;if(c=!1,f=o.$eval(u.showErrors),g=t(f),w=n(f),a=s[0].querySelector(".form-control[name]"),h=angular.element(a),l=e(h.attr("name")||"")(o),!l)throw"show-errors element has no child input elements with a 'name' attribute and a 'form-control' class";return h.bind(w,function(){return c=!0,m(i[l].$invalid)}),o.$watch(function(){return i[l]&&i[l].$invalid},function(r){if(c)return m(r)}),o.$on("show-errors-check-validity",function(){return m(i[l].$invalid)}),o.$on("show-errors-reset",function(){return r(function(){return s.removeClass("has-error"),s.removeClass("has-success"),c=!1},0,!1)}),m=function(r){if(s.toggleClass("has-error",r),g)return s.toggleClass("has-success",!r)}},u=function(r,o){if(o.showErrors.indexOf("skipFormGroupCheck")===-1&&!r.hasClass("form-group")&&!r.hasClass("input-group"))throw"show-errors element does not have the 'form-group' or 'input-group' class";return s};return{restrict:"A",require:"^form",compile:u}}]),r.provider("showErrorsConfig",function(){var r,o;r=!1,o="blur",this.showSuccess=function(o){return r=o},this.trigger=function(r){return o=r},this.$get=function(){return{showSuccess:r,trigger:o}}})}).call(this)}();
!function(){!function(){"use strict";var e=angular.module("pasvaz.bindonce",[]),t=[{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}];e.directive("bindonce",function(){var e=function(e){if(e&&0!==e.length){var t=angular.lowercase(""+e);e=!("f"===t||"0"===t||"false"===t||"no"===t||"n"===t||"[]"===t)}else e=!1;return e},t=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(t)&&(t=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var r={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(r,a,i,n){var c=function(t,r,a){var i="show"===r?"":"none",n="hide"===r?"":"none";t.css("display",e(a)?i:n)},o=function(e,t){if(angular.isObject(t)&&!angular.isArray(t)){var r=[];angular.forEach(t,function(e,t){e&&r.push(t)}),t=r}t&&e.addClass(angular.isArray(t)?t.join(" "):t)},s=function(e,t){e.transclude(t,function(t){var r=e.element.parent(),a=e.element&&e.element[e.element.length-1],i=r&&r[0]||a&&a.parentNode,n=a&&a.nextSibling||null;angular.forEach(t,function(e){i.insertBefore(e,n)})})},l={watcherRemover:void 0,binders:[],group:i.boName,element:a,ran:!1,addBinder:function(e){this.binders.push(e),this.ran&&this.runBinders()},setupWatcher:function(e){var t=this;this.watcherRemover=r.$watch(e,function(e){void 0!==e&&(t.removeWatcher(),t.checkBindonce(e))},!0)},checkBindonce:function(e){var t=this,r=e.$promise?e.$promise.then:e.then;"function"==typeof r?r(function(){t.runBinders()}):t.runBinders()},removeWatcher:function(){void 0!==this.watcherRemover&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var r=this.binders.shift();if(!this.group||this.group==r.group){var a=r.scope.$eval(r.interpolate?n(r.value):r.value);switch(r.attr){case"boIf":e(a)&&s(r,r.scope.$new());break;case"boSwitch":var i,l=r.controller[0];(i=l.cases["!"+a]||l.cases["?"])&&(r.scope.$eval(r.attrs.change),angular.forEach(i,function(e){s(e,r.scope.$new())}));break;case"boSwitchWhen":var u=r.controller[0];u.cases["!"+r.attrs.boSwitchWhen]=u.cases["!"+r.attrs.boSwitchWhen]||[],u.cases["!"+r.attrs.boSwitchWhen].push({transclude:r.transclude,element:r.element});break;case"boSwitchDefault":var u=r.controller[0];u.cases["?"]=u.cases["?"]||[],u.cases["?"].push({transclude:r.transclude,element:r.element});break;case"hide":case"show":c(r.element,r.attr,a);break;case"class":o(r.element,a);break;case"text":r.element.text(a);break;case"html":r.element.html(a);break;case"style":r.element.css(a);break;case"disabled":r.element.prop("disabled",a);break;case"src":r.element.attr(r.attr,a),t&&r.element.prop("src",a);break;case"attr":angular.forEach(r.attrs,function(e,t){var a,i;t.match(/^boAttr./)&&r.attrs[t]&&(a=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=r.scope.$eval(r.attrs[t]),r.element.attr(a,i))});break;case"href":case"alt":case"title":case"id":case"value":r.element.attr(r.attr,a)}}}this.ran=!0}};angular.extend(this,l)}],link:function(e,t,r,a){var i=r.bindonce&&e.$eval(r.bindonce);void 0!==i?a.checkBindonce(i):(a.setupWatcher(r.bindonce),t.bind("$destroy",a.removeWatcher))}};return r}),angular.forEach(t,function(t){var r=200;return e.directive(t.directiveName,function(){var e={priority:t.priority||r,transclude:t.transclude||!1,terminal:t.terminal||!1,require:["^bindonce"].concat(t.require||[]),controller:t.controller,compile:function(e,r,a){return function(e,r,i,n){var c=n[0],o=i.boParent;if(o&&c.group!==o){var s=c.element.parent();c=void 0;for(var l;9!==s[0].nodeType&&s.length;){if((l=s.data("$bindonceController"))&&l.group===o){c=l;break}s=s.parent()}if(!c)throw new Error("No bindonce controller: "+o)}c.addBinder({element:r,attr:t.attribute||t.directiveName,attrs:i,value:i[t.directiveName],interpolate:t.interpolate,group:o,transclude:a,controller:n.slice(1),scope:e})}}};return e})})}()}();
!function(){!function(){"use strict";function e(e){var t=function(t,a,i){var n=t.data.date;n="integer"==t.data.type?new Date(n):n,t.dateTimeStr=e.buildDateTimeText(n)};return{restrict:"EA",scope:{data:"="},template:"<span>{{dateTimeStr}}</span>",link:t}}var t=angular.module("app");e.$inject=["DateTimeService"],t.directive("dateTime",e)}()}();
!function(){!function(){"use strict";function e(e,t,n){function i(i,u){var l=u.dirPaginate,d=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),p=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===d[2].match(p))throw"pagination directive: the 'itemsPerPage' filter must be set.";var f=d[2].replace(p,""),h=t(f);s(i);var m=u.paginationId||c;return n.registerInstance(m),function(i,s,u){var d=t(u.paginationId)(i)||u.paginationId||c;n.registerInstance(d);var p=a(l,d);r(s,u,p),o(s);var f=e(s),m=g(i,u,d);n.setCurrentPageParser(d,m,i),"undefined"!=typeof u.totalItems?(n.setAsyncModeTrue(d),i.$watch(function(){return t(u.totalItems)(i)},function(e){0<=e&&n.setCollectionLength(d,e)})):i.$watchCollection(function(){return h(i)},function(e){if(e){var t=e instanceof Array?e.length:Object.keys(e).length;n.setCollectionLength(d,t)}}),f(i)}}function a(e,t){var n,i=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return n=t===c||i?e:e.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+t+"'")}function r(e,t,n){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",n),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",n)}function s(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}function o(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function g(e,n,i){var a;if(n.currentPage)a=t(n.currentPage);else{var r=(i+"__currentPage").replace(/\W/g,"_");e[r]=1,a=t(r)}return a}return{terminal:!0,multiElement:!0,priority:100,compile:i}}function t(){return{priority:5e3,terminal:!0}}function n(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function i(e,t){function n(t,n,a){function s(n){if(e.isRegistered(d)&&u(n)){var a=t.pagination.current;t.pages=i(n,e.getCollectionLength(d),e.getItemsPerPage(d),f),t.pagination.current=n,g(),t.onPageChange&&t.onPageChange({newPageNumber:n,oldPageNumber:a})}}function o(){if(e.isRegistered(d)){var n=parseInt(e.getCurrentPage(d))||1;t.pages=i(n,e.getCollectionLength(d),e.getItemsPerPage(d),f),t.pagination.current=n,t.pagination.last=t.pages[t.pages.length-1],t.pagination.last<t.pagination.current?t.setCurrent(t.pagination.last):g()}}function g(){if(e.isRegistered(d)){var n=e.getCurrentPage(d),i=e.getItemsPerPage(d),a=e.getCollectionLength(d);t.range.lower=(n-1)*i+1,t.range.upper=Math.min(n*i,a),t.range.total=a}}function u(e){return r.test(e)&&0<e&&e<=t.pagination.last}var l=a.paginationId||c,d=t.paginationId||a.paginationId||c;if(!e.isRegistered(d)&&!e.isRegistered(l)){var p=d!==c?" (id: "+d+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+p+"cannot be used without the corresponding pagination directive, which was not found at link time.")}t.maxSize||(t.maxSize=9),t.autoHide=void 0===t.autoHide||t.autoHide,t.directionLinks=!angular.isDefined(a.directionLinks)||t.$parent.$eval(a.directionLinks),t.boundaryLinks=!!angular.isDefined(a.boundaryLinks)&&t.$parent.$eval(a.boundaryLinks);var f=Math.max(t.maxSize,5);t.pages=[],t.pagination={last:1,current:1},t.range={lower:1,upper:1,total:1},t.$watch("maxSize",function(e){e&&(f=Math.max(t.maxSize,5),o())}),t.$watch(function(){if(e.isRegistered(d))return(e.getCollectionLength(d)+1)*e.getItemsPerPage(d)},function(e){0<e&&o()}),t.$watch(function(){if(e.isRegistered(d))return e.getItemsPerPage(d)},function(e,n){e!=n&&"undefined"!=typeof n&&s(t.pagination.current)}),t.$watch(function(){if(e.isRegistered(d))return e.getCurrentPage(d)},function(e,t){e!=t&&s(e)}),t.setCurrent=function(t){e.isRegistered(d)&&u(t)&&(t=parseInt(t,10),e.setCurrentPage(d,t))},t.tracker=function(e,t){return e+"_"+t}}function i(e,t,n,i){var r,s=[],o=Math.ceil(t/n),g=Math.ceil(i/2);r=e<=g?"start":o-g<e?"end":"middle";for(var c=i<o,u=1;u<=o&&u<=i;){var l=a(u,e,i,o),d=2===u&&("middle"===r||"end"===r),p=u===i-1&&("middle"===r||"start"===r);c&&(d||p)?s.push("..."):s.push(l),u++}return s}function a(e,t,n,i){var a=Math.ceil(n/2);return e===n?i:1===e?e:n<i?i-a<t?i-n+e:a<t?t-a+e:e:e}var r=/^\d+$/;return{restrict:"AE",templateUrl:function(e,n){return n.templateUrl||t.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:n}}function a(e){return function(t,n,i){if("undefined"==typeof i&&(i=c),!e.isRegistered(i))throw"pagination directive: the itemsPerPage id argument (id: "+i+") does not match a registered pagination-id.";var a,s;if(angular.isObject(t)){if(n=parseInt(n)||9999999999,s=e.isAsyncMode(i)?0:(e.getCurrentPage(i)-1)*n,a=s+n,e.setItemsPerPage(i,n),t instanceof Array)return t.slice(s,a);var o={};return angular.forEach(r(t).slice(s,a),function(e){o[e]=t[e]}),o}return t}}function r(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function s(){var e,t={};this.registerInstance=function(n){"undefined"==typeof t[n]&&(t[n]={asyncMode:!1},e=n)},this.isRegistered=function(e){return"undefined"!=typeof t[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,n,i){t[e].currentPageParser=n,t[e].context=i},this.setCurrentPage=function(e,n){t[e].currentPageParser.assign(t[e].context,n)},this.getCurrentPage=function(e){var n=t[e].currentPageParser;return n?n(t[e].context):1},this.setItemsPerPage=function(e,n){t[e].itemsPerPage=n},this.getItemsPerPage=function(e){return t[e].itemsPerPage},this.setCollectionLength=function(e,n){t[e].collectionLength=n},this.getCollectionLength=function(e){return t[e].collectionLength},this.setAsyncModeTrue=function(e){t[e].asyncMode=!0},this.isAsyncMode=function(e){return t[e].asyncMode}}function o(){var e="angularUtils.directives.dirPagination.template";this.setPath=function(t){e=t},this.$get=function(){return{getPath:function(){return e}}}}var g="angularUtils.directives.dirPagination",c="__default";angular.module(g,[]).directive("dirPaginate",["$compile","$parse","paginationService",e]).directive("dirPaginateNoCompile",t).directive("dirPaginationControls",["paginationService","paginationTemplate",i]).filter("itemsPerPage",["paginationService",a]).service("paginationService",s).provider("paginationTemplate",o).run(["$templateCache",n])}()}();
!function(){!function(){"use strict";app.directive("bnLazySrc",function(n,e){function r(n){function e(e,r){if(!n.is(":visible"))return!1;null===u&&(u=n.height());var i=n.offset().top,t=i+u;return i<=r&&i>=e||t<=r&&t>=e||i<=e&&t>=r}function r(){c=!0,t()}function i(n){o=n,c&&t()}function t(){n[0].src=o}var o=null,c=!1,u=null;return{isVisible:e,render:r,setSource:i}}function i(n,e,i){var o=new r(e);t.addImage(o),i.$observe("bnLazySrc",function(n){o.setSource(n)}),n.$on("$destroy",function(){t.removeImage(o)})}var t=function(){function r(n){s.push(n),v||u(),z||l()}function i(n){for(var e=0;e<s.length;e++)if(s[e]===n){s.splice(e,1);break}s.length||(c(),f())}function t(){if(!v){var n=b.height();n!==m&&(m=n,u())}}function o(){console.log("Checking for visible images...");for(var n=[],e=[],r=g.height(),i=g.scrollTop(),t=i,o=t+r,u=0;u<s.length;u++){var l=s[u];l.isVisible(t,o)?n.push(l):e.push(l)}for(var u=0;u<n.length;u++)n[u].render();s=e,c(),s.length||f()}function c(){clearTimeout(v),v=null}function u(){v=setTimeout(o,h)}function l(){z=!0,g.on("resize.bnLazySrc",a),g.on("scroll.bnLazySrc",a),d=setInterval(t,p)}function f(){z=!1,g.off("resize.bnLazySrc"),g.off("scroll.bnLazySrc"),clearInterval(d)}function a(){v||u()}var s=[],v=null,h=100,g=$(n),b=e,m=b.height(),d=null,p=2e3,z=!1;return{addImage:r,removeImage:i}}();return{link:i,restrict:"A"}})}()}();
!function(){!function(){"use strict";var e=angular.module("app"),t=function(){var e=function(e){var t=this,r=function(){return t.itemsPerPage},i=function(r){t.itemsPerPage=r||t.itemsPerPage,e.$emit("itemsPerPage",t.itemsPerPage)};t.itemsPerPage=t.itemsPerPage||5,e.$watch(r,i)};return e.$inject=["$scope"],{restrict:"E",scope:{itemsPerPage:"@"},controller:e,bindToController:!0,controllerAs:"vm",template:'Set Items per Page : <input type="text" ng-model="vm.itemsPerPage" size="5">'}};t.$inject=[],e.directive("itemsPerPage",t)}()}();
!function(){!function(){"use strict";var t=angular.module("app"),a=function(){return{restrict:"A",scope:{metaproperty:"@"},link:function(t,a,e){function n(e){var n=e[t.metaproperty]||t.default;a.attr("content",n)}t.default=a.attr("content"),t.metadata=metadataService,t.$watch("metadata",function(t,a){n(t)},!0),n(t.metadata)}}};a.$inject=[],t.directive("metaProperty",a)}()}();
!function(){!function(){"use strict";app.directive("rpattern",function(){var t=function(t,e){return null==e||""===e||!required||t.test(e)?(ngModel.$setValidity("pattern",!0),e):void ngModel.$setValidity("pattern",!1)},e=function(e,r,n,i){var u,a=n.rpattern,o=!0;a&&(a.match(/^\/(.*)\/$/)?(a=new RegExp(a.substr(1,a.length-2)),u=function(e){return t(a,e)}):u=function(r){var n=e.$eval(a);if(!n||!n.test)throw new Error("Expected "+a+" to be a RegExp but was "+n);return t(n,r)}),i.$formatters.push(u),i.$parsers.push(u),n.$observe("required",function(t){o=t,u(i.$viewValue)})};return{restrict:"A",require:"ngModel",link:e}})}()}();
!function(){!function(){"use strict";var t=angular.module("app"),e=function(){var t=function(t,e,n,a){var u=function(){return t.$eval(n.ngPattern)},i=function(t,e){return value=a.$viewValue,a.$isEmpty(value)||t.test(value)?(a.$setValidity("pattern",!0),value):void a.$setValidity("pattern",!1)};t.$watch(u,i)};return{require:"^ngModel",link:t}};t.directive("updatePattern",e)}()}();
!function(){!function(){"use strict";var t=angular.module("app"),r=function(t){return function(r){return t.trustAsHtml(r)}};r.$inject=["$sce"],t.filter("trustHtml",r);var n=function(t){return function(r){return t.trustAsResourceUrl(r)}};n.$inject=["$sce"],t.filter("trustUrl",n);var e=function(){return function(t){return t.charAt(0).toUpperCase()+t.slice(1)}};e.$inject=[],t.filter("capitalize",e)}()}();
!function(){!function(){app.factory("middleware",function(){return{request:function(t){return t.url="http://localhost:9000/"+t.url,t}}})}()}();
!function(){!function(){"use strict";var n=angular.module("app"),o=function(n){var o=function(o,t,e){return n.open({controller:"ModalInstanceController",controllerAs:"vm",templateUrl:"views/"+o+".html",size:e,resolve:t})};return{open:o}};o.$inject=["$uibModalInstance","data"],n.controller("ModalFactory",o)}()}();
!function(){!function(){"use strict";var r=angular.module("app");r.service("APIInterceptor",function(r,t){var e=this;e.request=function(r){var e=t.getCurrentUser(),n=e?e.access_token:null;return n&&(r.headers.authorization=n),r},e.responseError=function(t){return 401===t.status&&r.$broadcast("unauthorized"),t}})}()}();
!function(){!function(){"use strict";var e=angular.module("app"),t=function(e){var t={},n=e.genericFactory;return t.create=function(e){return n("post","api/v1/appointment",e)},t.update=function(e){return n("put","api/v1/appointment"+e._id,e)},t.delete=function(e){return n("delete","api/v1/appointment"+payload._id,payload)},t.fetchAppointmentsFromByUserId=function(e,t){return n("get","api/v1/appointments/"+t+"/"+e)},t};t.$inject=["GenericHTTPCallService"],e.service("AppointmentsService",t)}()}();
!function(){app.factory("AuthResolver",function(e,r,n){return{resolve:function(){var o=e.defer(),t=r.$watch("currentUser",function(e){angular.isDefined(e)&&(e?o.resolve(e):(o.reject(),n.go("user-login")),t())});return o.promise}}})}();
!function(){!function(){"use strict";var e=angular.module("app"),n=function(e,n){var t={},r=n.genericFactory,i=null,o={};return o.login=function(e){return r("post","login",e)},o.verifyUsername=function(e){return r("post","verifyUsername",e)},o.register=function(e){return r("post","register",e)},o.getAuthenticatedUser=function(){return _.isObject(i)||(i=e.getLocalStorageByKey("authenticatedUser"),i=i?JSON.parse(i):null),i},o.getUserInfo=function(){return t&&t.authToken||(t=e.getSessionStorageByKey.userInfo,t=t?JSON.parse(t):null),t},o.isLoggedIn=function(){var e=o.getUserInfo();return!(!e||!e.authToken)},o};n.$inject=["SessionService","GenericHTTPCallService"],e.service("AuthenticationService",n)}()}();
!function(){!function(){"use strict";function e(){var e={},t=new Date,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","Juy","August","September","October","November","December"];return e.getWeekDay=function(e){return e||(e=t),r[e.getDay()]},e.getMonthText=function(e){return e||(e=t),a[e.getMonth()]},e.getAmPmText=function(e){return e||(e=t),e.getHours()>11?"pm":"am"},e.getFormattedMins=function(e){e||(e=t);var r=""+e.getMinutes();return 1==r.length?"0"+r:r},e.getHours12Format=function(e){e||(e=t);var r=e.getHours();return r=r>12?r-12:r,r||12},e.getDayWithPostscript=function(e){e||(e=t);var r=e.getDate(),a="";switch(r){case 1:case 21:case 31:a="st";break;case 2:case 22:a="nd";break;case 3:case 23:a="rd";break;default:a="th"}return r+a},e.buildDateTimeText=function(r){r||(r=t);var a=e.getHours12Format(r);return a+=":"+e.getFormattedMins(r),a+=e.getAmPmText(r),a+=" "+e.getWeekDay(r),a+=" "+e.getDayWithPostscript(r),a+=" "+e.getMonthText(r),a+=" "+r.getFullYear()},e}var t=angular.module("app");e.$inject=[],t.service("DateTimeService",e)}()}();
!function(){!function(){"use strict";function e(e,t){var r={};return r.genericFactory=function(r,c,n){var a,o=t.defer();switch(r){case"get":a=e.get(c);break;case"post":a=e.post(c,n);break;case"put":a=e.put(c,n);break;case"delete":a=e.delete(c)}return a.success(function(e){o.resolve(a.$$state.value)}).error(function(e){console.log(e),o.reject(e)}),o.promise},r}var t=angular.module("app");e.$inject=["$http","$q"],t.factory("GenericHTTPCallService",e)}()}();
!function(){!function(){"use strict";var o=angular.module("app");o.service("GeolocationService",["$q","$http",function(o,t){var e={},n=["locality","political"];return e.position=null,e.fetchGeolocation=function(){var t=o.defer();return navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(o){t.resolve(o)},function(){t.reject(error)},{timeout:3e4}),t.promise},e.fetchAddressFromLatLong=function(n,r){var i=o.defer();return n&&r||e.fetchGeolocation().then(function(o){console.log(o),n||(n=o.coords.latitude),r||(r=o.coords.longitude);var e="http://maps.googleapis.com/maps/api/geocode/json?latlng="+n+","+r;t.get(e).then(function(o){console.log(o),i.resolve(o)},function(o){i.reject(o)})}),i.promise},e.fetchCity=function(o){e.fetchAddressFromLatLong().then(function(t){if(t&&t.results&&t.results.length>0)for(var e=t.results,r=null,i=e.length-1;i>=0;i--)r=e[i],r&&r.types&&_.isEqual(r.types,n)&&o(r.formatted_address.split(",").shift())})},e}])}()}();
!function(){!function(){"use strict";var t=angular.module("app"),a=function(t){var a=this,e=function(t,e){a.loadMetadata(e.metadata)};a.loadMetadata=function(t){a.title=document.title=t.title||"Fallback Title",a.description=t.description||"Fallback Description",a.url=t.url||$location.absUrl(),a.image=t.image||"fallbackimage.jpg",a.ogpType=t.ogpType||"website",a.twitterCard=t.twitterCard||"summary_large_image",a.twitterSite=t.twitterSite||"@fallback_handle"},t.$on("$routeChangeSuccess",e)};a.$inject=["$rootScope"],t.service("MetaDataService",a)}()}();
!function(){!function(){"use strict";var t=angular.module("app"),e=function(t){var e={};return e.createContactUs=function(t){return http("post","createContactUs",t)},e};e.$inject=["GenericHTTPCallService"],t.service("MiscService",e)}()}();
!function(){!function(){"use strict";var e=angular.module("app"),r=function(e,r){return{request:function(t){var n=r.getSession()||{};return n.id&&(t.headers["x-session-token"]=n.id,t.headers["x-key"]=n.userId),-1!=t.url.indexOf("templates/datetimepicker.html")?t.url="lib/angular-bootstrap-datetimepicker/src/"+t.url:-1==t.url.indexOf(".html")&&-1==t.url.indexOf("http")&&(t.url="http://localhost:9000/"+t.url),t||e.when(t)},requestError:function(e){return console.log(e),e},response:function(r){return r?angular.isObject(r.data)?r.data:r:e.when(r)},responseError:function(e){return console.log(e),e}}};r.$inject=["$q","SessionService"],e.service("MyHttpInterceptor",r)}()}();
!function(){!function(){app.factory("myHttp",["$injector",function(t){$http=t.get("$http"),this.http=function(t){return t.url="http://localhost:9000/"+t.url,$http(t)}}])}()}();
!function(){!function(){"use strict";var e=angular.module("app"),r=function(e,r){var i={},t=r.genericFactory;return i.create=function(r){return r.doctor_name=e.getUser().name,r.doctor_id=e.getUser()._id,delete r._id,t("post","api/v1/prescription",r)},i.update=function(e){return t("put","api/v1/prescription/"+e._id,e)},i.delete=function(e){return t("delete","api/v1/prescription/"+e)},i.fetchPrescriptionsFromByUserId=function(e,r){return t("get","api/v1/prescriptions/"+e+"/"+r)},i};r.$inject=["SessionService","GenericHTTPCallService"],e.service("PrescriptionsService",r)}()}();
!function(){!function(){"use strict";function t(){var t={},e=[],n=function(t){return{templateUrl:"views/"+t+".html",controller:t.capitalize()+"Controller",controllerAs:"vm"}},r=function(t,e){angular.forEach(t,function(t){var r=n(t);e.when("/"+t,r)}),e.otherwise({redirectTo:"/appointments"})},o=function(){return e},u=function(t){e=t};return t.getRoutes=o,t.setRoutes=u,t.buildRoutes=r,t}var e=angular.module("app");t.$inject=[],e.service("RouteService",t)}()}();
!function(){!function(){"use strict";var e=angular.module("app");e.factory("SessionInjector",["$injector",function(e){var n={request:function(n){return AuthenticationService=e.get("AuthenticationService"),angular.isObject(AuthenticationService.userInfo)&&(n.headers["x-session-token"]=AuthenticationService.userInfo.authToken),n}};return n}])}()}();
!function(){!function(){app.factory("sessionRecoverer",["$q","$injector",function(e,r){var n={responseError:function(n){if(419==n.status){var t=r.get("SessionService"),o=r.get("$http"),i=e.defer();return t.login().then(i.resolve,i.reject),i.promise.then(function(){return o(n.config)})}return e.reject(n)}};return n}])}()}();
!function(){!function(){"use strict";function e(e,t,s){var n=this,o={},r={},i={};return t.$on("logoutEvent",function(e,s){t.isLoggedIn=!1,n.destroy()}),t.$on("authSuccess",function(e,s){r=s.user||{},o.setUser(r),n.create(s.authToken,r.username,null),t.isLoggedIn=!0}),o.getUser=function(){return r.username||(r=s.get("user"),r=r?JSON.parse(r):{}),r},o.setUser=function(e){e.username?s.set("user",JSON.stringify(e)):""},o.setLocalStorageByKey=function(e,t){s.set(e,t,"local")},o.getLocalStorageByKey=function(e){return s.get(e,"local")},o.setSessionStorageByKey=function(e,t){s.set(e,t,"session")},o.getSessionStorageByKey=function(e){return s.get(e,"session")},o.getIsUserAuthenticated=function(){return o.getSession(),i&&i.id},o.getSession=function(){return i.id||(i=s.get("session"),i=i?JSON.parse(i):{}),i},this.create=function(e,t,n){e&&t&&(i.id=e,i.userId=t,i.userRole=n,s.set("session",JSON.stringify(i)))},this.destroy=function(){r={},i={},s.del("session"),s.del("user"),s.del("rememberMe","local")},o}var t=angular.module("app");e.$inject=["$window","$rootScope","StorageService"],t.service("SessionService",e)}()}();
!function(){!function(){"use strict";function e(e){var t,o,n=this,r={},a=e.sessionStorage,i=e.localStorage;return r.get=function(e,o){return n.getContextStorage(o),t[e]||null},r.set=function(e,o,r){"rememberMe"==e&&n.setDefaultStorage(o),n.getContextStorage(r),t[e]=o},r.del=function(e,o){n.getContextStorage(o),t.removeItem(e)},this.getContextStorage=function(e){return t=o,"local"==e&&(t=i),"session"==e&&(t=a),t},this.setDefaultStorage=function(e){o=e?i:a},this.setDefaultStorage(r.get("rememberMe","local")),r}var t=angular.module("app");e.$inject=["$window"],t.service("StorageService",e)}()}();
!function(){!function(){"use strict";var e=angular.module("app"),r=function(e){var r={},n=e.genericFactory;return r.register=function(e){return e?n("post","register",e):null},r.updateUser=function(e){return e._id?(e.username&&delete e.username,e.password&&delete e.password,n("put","api/v1/user/"+e._id,e)):null},r.fetchUser=function(e){return e._id?(e.username&&delete e.username,e.password&&delete e.password,n("get","api/v1/user/"+e._id,e)):null},r.verifyLogin=function(e){return n("post","verifyLogin",e)},r};r.$inject=["GenericHTTPCallService"],e.service("UsersService",r)}()}();
!function(){!function(){"use strict";var t=angular.module("app"),i=function(t){var i={};return i.applyFilter=function(i,n){return t(i)(n)},i};i.$inject=["$filter"],t.service("UtilityService",i)}()}();